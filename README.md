Сервис для работы с меню
========================

Настройка и запуск сервиса
--------------------------

Настройки сервиса работы меню описываются в файлах окружения `.django.env` и `.db.env`.
Файл `.django.env` должен быть по формату аналогичен файлу `.django.env.example`
находящемуся в корневом каталоге программы. В файле `.django.env` должны быть
определены следующие переменные.

*   `SECRET_KEY=...`
    Секретный ключ используемый Django для генерации временных токенов. Произвольная
    строка, желательно большой длины. Эту строку необходимо хранить в секрете

*   `DEBUG=0`
    Флаг отладочного режима. В рабочем режиме необходимо устанавливать в 0.

*   `ALLOWED_HOSTS=...`
    Перечисленные через запятую допустимые значения доменных имен и IP адресов узла,
    на котором можно запустить приложение.

*   `CSRF_TRUSTED_ORIGINS=...`
    Перечисленные через запятую допустимые значения URL для CSRF. Они обычно совпадают
    с `ALLOWED_HOSTS` но включают название протокола `http` или `https` и номер порта,
    если сервер работает на нестандартном порту.

*   `DB_NAME=...`
    Название используемой базы данных

*   `DB_USER=...`
    Имя пользователя, от имени которого осуществляется доступ к базе данных

*   `DB_PASSWORD=...`
    Пароль пользователя от имени которого осуществляется доступ к базе данных. Это
    значение необходимо хранить в секрете

*   `DB_HOST=db`
    Следует оставить значение по умолчанию

*   `DB_PORT=5342`
    Следует оставить значение по умолчанию

*   `ADMIN_USERNAME=...`
    Имя пользователя-администратора, который будет автоматически создан при первом
    запуске системы. Его необходимо держать в секрете

*   `ADMIN_PASSWORD=...`
    Пароль пользователя-администратора, который будет автоматически создан при первом
    запуске системы. Его необходимо держать в секрете

*   `ADMIN_EMAIL=...`
    Адрес электронной почты пользователя-администратора, который будет автоматически
    создан при первом запуске системы. Его необходимо держать в секрете

В файле `.db.env` необходимо определить три значения в соответствии с образцом в
файле `.db.env.example`.

*   `POSTGRES_DB=...`

    Название базы данных, должно совпадать с полем `DB_NAME` в файле `.django.env`.

*   `POSTGRES_USER=...`

    Имя пользователя базы данных, должно совпадать с полем `DB_USER` в файле
    `.django.env`.

*   `POSTGRES_PASSWORD=...`

    Пароль пользователя базы данных, должно совпадать с полем `DB_PASSWORD` в файле
    `.django.env`. Это значение важно держать в секрете.

После завершения работы над файлами настроек для запуска сервера следует ввести команду

``
docker-compose build && docker-compose up -d
``

Важно отметить, что пользователь-администратор будет создан при запуске системы, если
в ее базе данных нет уже имеющихся пользователей-администраторов.
